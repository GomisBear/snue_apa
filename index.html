<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>snue_apa - 서울교육대 APA 생성기</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      margin: 0;
      padding: 2rem;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      background: #fff;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
    }
    select, input, button, label {
      font-size: 1rem;
      padding: 0.5rem;
      margin: 0.5rem 0;
      width: 100%;
      box-sizing: border-box;
    }
    #outputContainer {
      margin-top: 2rem;
      background: #f1f1f1;
      padding: 1rem;
      border-radius: 0.5rem;
    }
    #output {
      font-size: 1rem;
      white-space: pre-wrap;
      background: #fff;
      padding: 1rem;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>📚 SNUE APA 참고문헌 생성기</h1>
    <p>서울교육대학교 대학원 기준에 맞춘 참고문헌 양식을 자동으로 생성합니다.</p>

    <label for="sourceType">참고문헌 종류를 선택하세요:</label>
    <select id="sourceType" onchange="renderForm()">
      <option value="">-- 선택 --</option>
      <option value="book">단행본</option>
      <option value="journal">정기간행물</option>
      <option value="thesis">학위논문</option>
      <option value="web">인터넷 자료</option>
      <option value="news">보도자료</option>
    </select>

    <label><label style="display: inline-flex; align-items: center; gap: 6px;">
  <input type="checkbox" id="isForeign" />
  해외 참고문헌
</label>

    <div id="formArea"></div>
    <button onclick="generateAPA()">📄 APA 양식 생성</button>

    <div id="outputContainer">
      <h2>📋 생성된 참고문헌:</h2>
      <div id="output"></div>
      <button onclick="copyToClipboard()">복사하기</button>
    </div>
  </div>

  <script>
    function renderForm() {
      const formArea = document.getElementById('formArea');
      const type = document.getElementById('sourceType').value;
      formArea.innerHTML = '';
      if (type === 'book') {
        formArea.innerHTML = `
          <input placeholder="제목" id="title" />
          <input placeholder="저자" id="author" />
          <input placeholder="출판연도" id="year" />
          <input placeholder="출판지 (예: 서울)" id="place" />
          <input placeholder="출판사" id="publisher" />
        `;
      } else if (type === 'journal') {
        formArea.innerHTML = `
          <input placeholder="제목" id="title" />
          <input placeholder="저자" id="author" />
          <input placeholder="출판연도" id="year" />
          <input placeholder="학술지명" id="journal" />
          <input placeholder="권(호) (예: 18(2))" id="volume" />
          <input placeholder="페이지 범위 (예: 45–67)" id="pages" />
        `;
      } else if (type === 'thesis') {
        formArea.innerHTML = `
          <input placeholder="제목" id="title" />
          <input placeholder="저자" id="author" />
          <input placeholder="연도" id="year" />
          <input placeholder="논문 종류 (예: 박사학위논문)" id="type" />
          <input placeholder="소속기관 (예: 단국대학교)" id="institution" />
        `;
      } else if (type === 'web') {
        formArea.innerHTML = `
          <input placeholder="문서 제목" id="title" />
          <input placeholder="기관명 또는 저자명" id="author" />
          <input placeholder="연도 또는 (n.d.)" id="year" />
          <input placeholder="검색일 (예: 2025.08.01)" id="date" />
        `;
      } else if (type === 'news') {
        formArea.innerHTML = `
          <input placeholder="기사 제목" id="title" />
          <input placeholder="기자명 또는 작성자" id="author" />
          <input placeholder="연도" id="year" />
          <input placeholder="언론사명" id="publisher" />
          <input placeholder="검색일 (예: 2025.08.01)" id="date" />
        `;
      }
    }

    function generateAPA() {
      const type = document.getElementById('sourceType').value;
      const foreign = document.getElementById('isForeign').checked;
      const get = id => document.getElementById(id)?.value || '';
      let result = '';

      const formatTitle = title => foreign ? `<em>${title}</em>` : `<strong>${title}</strong>`;
      const formatAuthor = author => foreign ? author.replace(/,\s*&\s*/g, ' & ') : author;
      const nameFormat = name => foreign ? name : name;

      if (type === 'book') {
        result = `${get('author')}(${get('year')}). ${formatTitle(get('title'))}. ${get('place')}: ${get('publisher')}.`;
      } else if (type === 'journal') {
        result = `${get('author')}(${get('year')}). ${get('title')}. ${formatTitle(get('journal'))}, ${get('volume')}, ${get('pages')}.`;
      } else if (type === 'thesis') {
        result = `${get('author')}(${get('year')}). ${get('title')}. ${get('type')}, ${get('institution')}.`;
      } else if (type === 'web') {
        result = `${get('author')}(${get('year')}). ${get('title')}. 검색일: ${get('date')}.`;
      } else if (type === 'news') {
        result = `${get('author')}(${get('year')}). ${get('title')}. ${get('publisher')}. 검색일: ${get('date')}.`;
      }

      document.getElementById('output').innerHTML = result;
    }

    function copyToClipboard() {
      const el = document.createElement('textarea');
      el.value = document.getElementById('output').innerText;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
      alert('복사되었습니다!');
    }
  </script>
</body>
</html>
